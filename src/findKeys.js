fs = require('fs');


let files = fs.readdirSync('./unprocessedDocuments')

let codes = ['11', '12', '13', '14', '15', '16', '17', '21', '22', '23', '24', '25', '26', '27', '28', '29', '31', '32', '33', '35', '41', '42', '43', '50', '51', '52', '53']


for (let file of files) {
    if (!file.includes('frame')) {
        const html = fs.readFileSync(`./unprocessedDocuments/${file}`, 'utf8').toString();
        let matches = html.match(/[0-9]{20}65[0-9]{22}/g)
        if (matches) {
            for (let match of matches){
                let index = codes.indexOf(match.slice(0, 2));
                if (index > 0) {
                    console.log(match, index, codes.splice(index, 1))
                }
            }
        }
        if (codes.length == 0) {
            break
        }

    }
}

// 53200107822636000168650010005588641325055266 26 [ '53' ]
// 26191270081518000182650030000659761551909706 12 [ '26' ]
// 24200110797331000239650010002712171536061059 10 [ '24' ]
// 14200101468484000160650010000435331128905442 3 [ '14' ]
// 43200111115559000183650010001210501001225007 19 [ '43' ]
// 15191015329606000142650650001651331299909901 3 [ '15' ]
// 17200108036185000104650020001735591453348955 4 [ '17' ]
// 22200109641208000164650040000111831234298181 5 [ '22' ]
// 33200101904245000106650050000004381000012921 12 [ '33' ]
// 25200105747008000130651250001218811001298628 6 [ '25' ]
// 21200129018539000311650020000150341542040894 4 [ '21' ]
// 16200109405430000400650030000900661002006657 3 [ '16' ]
// 32200139385059000180650010000738231000931152 8 [ '32' ]
// 28191207855647000144650010007334531012548159 5 [ '28' ]
// 12200103492648000200650020001278581967439834 1 [ '12' ]
// 27200112630679000181650030002741601896042686 3 [ '27' ]
// 29200211170833000117650010003572859001603495 3 [ '29' ]

